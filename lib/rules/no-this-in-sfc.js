// Generated by CoffeeScript 2.5.0
(function() {
  /**
   * @fileoverview Report "this" being used in stateless functional components.
   */
  'use strict';
  var Components, ERROR_MESSAGE, docsUrl;

  Components = require('../util/react/Components');

  docsUrl = require('eslint-plugin-react/lib/util/docsUrl');

  // ------------------------------------------------------------------------------
  // Constants
  // ------------------------------------------------------------------------------
  ERROR_MESSAGE = 'Stateless functional components should not use this';

  // ------------------------------------------------------------------------------
  // Rule Definition
  // ------------------------------------------------------------------------------
  module.exports = {
    meta: {
      docs: {
        description: 'Report "this" being used in stateless components',
        category: 'Possible Errors',
        recommended: false,
        url: docsUrl('no-this-in-sfc')
      },
      schema: []
    },
    create: Components.detect(function(context, components, utils) {
      return {
        MemberExpression: function(node) {
          var component;
          if (node.object.type !== 'ThisExpression') {
            return;
          }
          component = components.get(utils.getParentStatelessComponent());
          if (!component) {
            return;
          }
          return context.report({
            node,
            message: ERROR_MESSAGE
          });
        }
      };
    })
  };

}).call(this);
