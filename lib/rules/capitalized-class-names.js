// Generated by CoffeeScript 2.5.0
(function() {
  /**
   * @fileoverview Enforces capitalized class names.
   * @author Julian Rosse
   */
  'use strict';
  var capitalizedRegex, isCapitalized;

  capitalizedRegex = /^_*[A-Z]/;

  isCapitalized = function(name) {
    return capitalizedRegex.test(name);
  };

  //------------------------------------------------------------------------------
  // Rule Definition
  //------------------------------------------------------------------------------
  module.exports = {
    meta: {
      docs: {
        description: 'enforce capitalized names for classes',
        category: 'Stylistic Issues',
        recommended: false
      },
      // url: 'https://eslint.org/docs/rules/object-curly-spacing'
      schema: []
    },
    create: function(context) {
      var checkClass;
      checkClass = function(node) {
        var currentName;
        if (!node.id) {
          return;
        }
        currentName = node.id;
        while (true) {
          // eslint-disable-next-line coffee/no-constant-condition
          switch (currentName.type) {
            case 'Identifier':
              if (!isCapitalized(currentName.name)) {
                context.report({
                  node,
                  message: 'Class names should be capitalized.'
                });
              }
              return;
            case 'MemberExpression':
              currentName = currentName.property;
              break;
            default:
              return;
          }
        }
      };
      return {
        //--------------------------------------------------------------------------
        // Public
        //--------------------------------------------------------------------------
        ClassDeclaration: checkClass,
        ClassExpression: checkClass
      };
    }
  };

}).call(this);
